# 表情包模板功能 - 开发文档

## 功能概述

预设常用场景的模板，用户可以快速生成符合特定场景的表情包。

---

## 需求分析

### 用户场景

- **常用场景**：用户经常使用某些固定的对话模式
- **新手友好**：新用户不知道如何使用，可以使用模板快速上手
- **提高效率**：减少重复输入，快速生成

### 功能需求

1. 预设常用场景模板
2. 支持使用模板生成表情包
3. 支持查看可用模板列表
4. 支持模板参数替换

---

## 实现步骤

### 步骤1：添加模板数据

在插件类中添加模板字典，包含安安说模板和审判模板。每个模板包含名称、描述、模板字符串和示例。

### 步骤2：实现模板查找方法

创建辅助方法，根据模板名称查找模板，支持模糊匹配。

### 步骤3：实现命令处理器

创建命令处理器方法，实现以下逻辑：

1. 解析消息内容，提取模板名和参数
2. 查找对应的模板
3. 如果模板不存在，提示用户并显示可用模板列表
4. 如果有参数，替换模板中的占位符
5. 生成表情包
6. 返回结果

### 步骤4：实现模板列表命令

创建命令处理器，显示所有可用模板及其描述和示例。

---

## 测试方案

| 测试用例    | 输入           | 预期结果    |
|---------|--------------|---------|
| 使用安安说模板 | 使用模板 拒绝 去图书馆 | 生成图片    |
| 使用审判模板  | 使用模板 争论 这道题  | 生成图片    |
| 模板不存在   | 使用模板 不存在     | 提示模板不存在 |
| 查看模板列表  | 模板列表         | 显示所有模板  |

---

## 注意事项

- 模板名称应简洁易记
- 模板占位符应清晰标注
- 模板数量应适当，避免过多
- 支持中英文模板名称
- 示例应直观易懂

---

## 扩展思路

1. 支持用户自定义模板
2. 支持模板分类管理
3. 支持模板分享功能
4. 支持模板导入导出
5. 支持模板验证功能

---

## 许可证

本项目遵循 AGPL-3.0 许可证条款。